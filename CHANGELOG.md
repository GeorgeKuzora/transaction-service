# Change Log

## 0.1.0

### Новое

- Добавлены базовые абстракции для сервиса:
    - TransactionService - сервис проведений транзакций пользователя.
    - InMemoryRepository - реализация хранилища данных в виде списков Python.
- Добавлен пакет тестов TransactionService. Пакет тестов включает юнит и интеграционные тесты.
- Создан файл gitlab-ci.yml. Настоен пайплайн для линтера и тестов.

## 0.2.0

### Новое

- Добавлены точки API с использованием фреймворка FastAPI.
- Добавлен интерфейс Cache, для будущей имплементации хранилища кэша Redis.
- Добавлена библиотека asyncio для выполнения методов сервиса в асинхронном режиме.
- Добавлен пакет тестов для нового функционала.

## 0.3.0

### Новое

- Добавлен Dockerfile и .dockerignore.
- Настроена сборка приложения в Docker контейнере.

## 0.4.0

### Новое

- Добавлен пакет тестов для `handlers.py`.
- Добавлены хэндлеры healthcheck

### Изменения

- Изменен тип amount и balance на `int`.
- Исправлены недочеты и баги.
- Добавлена обработка `ValueError` в хэндлеры.
- Обновлены классы ошибок в модуле `errors.py`.

## 0.5.0

### Новое

- Добавляет документацию схемы базы данных в директорию `db/`.

## 0.6.0

### Новое

- Добавляет sqlalchemy, pyscopg2 и alembic в зависимости проекта.
- Добавляет конфигурацию базы данных PostgreSQL в модуле `config.py` и файле конфигурации `config-local.yml`.
- Добавляет пакет тестов для тестирования конфигурации базы данных PostgreSQL.
- Добавляет класс `DBStorage` соответсвующий интерфейсу `Storage` и инкапсулирующий логику взаимодействия с базой данных PostgreSQL.
- Добавляет пакет тестов класса `DBStorage` в проект.
- Добавляет инструмент для управления миграциями **alembic** в проект.
- Добавляет файлы миграции базы данных в проект.

### Изменения

- Подключает сервис `db` с базой данных PostgreSQL к dev-контейнеру.
- Добавляет сервис `db` с базой данных PostgreSQL в конвейер gitlab-ci.

## 0.7.0

### Новое

- Созданы манифесты:
	- `deployment.yml`
	- `service.yml`
	- `configMap.yml`
	- `job.yml`
- Добавлена конфигурация сервиса в файле `config-kube.yml`.
- В gitlab-ci добавлен этап, который отвечает за сборку и загрузку образов в реестр.
- Добавлена конфигурация `alembic_kube.ini` для миграций базы данных в среде kubernetes.

### Изменения

- Изменен рабочий порт сервиса на 8080.
- Обновлен `.dockerignore`.

## 0.8.0

### Новое

- Добавлены чарты пакетного менеджера helm.
- Добавлена дополнительная конфигурация значений helm-чартов в файле `values/test.yaml`.

## 0.9.0

### Новое

- Добавлен трейсинг к хэндлеру create_report.
- Добавлен трейсинг к хэндлеру create_transaction.
- Подключен модуль tracing.py к сервису.
- Добавлен модуль tracing.py.
- Добавлена конфигурация трейсинга.
- Добавлены opentracing и jaeger-client в зависимости проекта.
